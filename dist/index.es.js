import e,{useState as t,useEffect as o,useCallback as r}from"react";import a from"axios";import{useColorModeValue as n,Flex as l,Box as i,Text as c,Square as s,Select as m,Spacer as u,Image as d}from"@chakra-ui/react";import p from"react-ticker";import"recharts";!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===o&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".requirement{align-items:center;display:flex;height:35px}.requirement p{font-family:sans-serif;font-size:14px;font-weight:700;margin-left:10px}.invalid{color:red}.valid{color:#7ac142}.checkmark{stroke-width:5;stroke:#fff;stroke-miterlimit:10;animation:fill .4s ease-in-out .4s forwards,scale .3s ease-in-out .9s both;border-radius:50%;box-shadow:inset 0 0 0 #7ac142;display:block;height:15px;width:15px}.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#7ac142;fill:none;animation:stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark__check{stroke-dasharray:48;stroke-dashoffset:48;animation:stroke .2s cubic-bezier(.65,0,.45,1) .5s forwards;transform-origin:50% 50%}@keyframes stroke{to{stroke-dashoffset:0}}@keyframes scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes fill{to{box-shadow:inset 0 0 0 30px #7ac142}}");const h={dex_name:"spiritswap",block_chain_id:"250"},f=()=>{const[r,m]=t([]),u=n("black","#a7a7ac"),d=n("#a7a7ac","brand.300");n("red","green");const f=n("#0c141c","gray.600"),g=n("#0c141c","#243036");let v=h.block_chain_id,b=h.dex_name;o((()=>{a({method:"get",url:`https://api.covalenthq.com/v1/${v}/xy=k/${b}/pools/widget/?key=ckey_4e73d56514984838ab3206fbaf4&sort-by=volume`,headers:{}}).then((function(e){!function(e){var t=e.data.items;for(let e=0;e<t.length;e++){var o=t[e][0].volume_timeseries_7d,r=[],a=[];for(let e=0;e<o.length;e++)a.push({volumeQuote:o[e].volume_quote});r.push(a),k.push({volume24hQuote:t[e][0].volume_24h_quote,tickerPair:t[e][0].token_0.contract_ticker_symbol+"-"+t[e][0].token_1.contract_ticker_symbol+" LP",volumeQuoteTS:r,volumePercentChange:Math.round(100*(100*(r[0][7].volumeQuote-r[0][6].volumeQuote)/r[0][6].volumeQuote+Number.EPSILON))/100})}m(k)}(e.data)})).catch((function(e){console.log(e)}))}),[]);var k=[];return console.log(r),e.createElement(e.Fragment,null,e.createElement(p,{offset:"run-in",speed:10},(t=>e.createElement(l,{borderRadius:"xl",bg:g,p:.1,w:"full",alignItems:"center",justifyContent:"center",borderColor:f,borderWidth:1,mb:8},r.map((t=>e.createElement(i,{w:"250px",maxW:"xs",mx:"auto",px:2,py:3,bg:g,shadow:"md",borderColor:"red.400"},e.createElement(l,{justifyContent:"space-between",alignItems:"center"},e.createElement(c,{fontSize:"md",color:u},t.tickerPair),e.createElement(c,{color:[t.volumePercentChange>0?"green":t.volumePercentChange<0?"red":"yellow"],px:3,py:1,rounded:"full",fontSize:"xs",fontWeight:"bold"},t.volumePercentChange,"%"),e.createElement(s,{bg:"#cacacd",size:"0.1px",height:"30px"})),e.createElement(l,null,e.createElement(c,{fontSize:"sm",mt:2,color:d,height:"50px"},e.createElement(c,{fontSize:"10px",textAlign:"center",color:"#84848c"},"Volume Quote"),"$",t.volume24hQuote),e.createElement(i,{alignItems:"center",size:"50px",w:"250px"}),e.createElement(s,{bg:"#cacacd",size:"0.1px",height:"60px"})))))))))},g=()=>{t([]),n("black","gray.500"),n("brand.200","brand.300"),n("red","green");const o=n("#0c141c","gray.600"),r=n("#0c141c","#243036"),[a,c]=t("vol"),[s,p]=t("ttpools"),[h,g]=t("24h");return e.createElement(e.Fragment,null,e.createElement(l,{bg:r,w:"full",borderColor:o},e.createElement(i,null,e.createElement(m,{placeholder:"Select an option",size:"xs",variant:"filled",value:a,width:"100px",onChange:e=>c(e.target.value),bgColor:r},e.createElement("option",{value:"vol"},"Volume"),e.createElement("option",{value:"liquidity"},"Liquidity"))),e.createElement(i,null,e.createElement(m,{placeholder:"Select an option",size:"xs",variant:"filled",value:s,onChange:e=>p(e.target.value),bgColor:r},e.createElement("option",{value:"ttpools"},"Top trading pools"),e.createElement("option",{value:"ttpairs"},"Top trading pairs"))),e.createElement(i,null,e.createElement(m,{placeholder:"Select an option",size:"xs",variant:"filled",value:h,width:"70px",onChange:e=>g(e.target.value),bgColor:r},e.createElement("option",{value:"24h"},"24h"),e.createElement("option",{value:"7d"},"7d"),e.createElement("option",{value:"30d"},"30d"))),e.createElement(u,null),"Powered by",e.createElement(d,{borderRadius:"full",boxSize:"30px",objectFit:"cover",src:"https://media-exp1.licdn.com/dms/image/C560BAQHZftuIJc5OMQ/company-logo_200_200/0/1616601285421?e=2147483647&v=beta&t=j6DJiJFHvVEFGFKU6rki6dFXYO4m3c43X0jKwe6H7_A",alt:"Dan Abramov"})),"vol"===a&&"ttpools"===s&&"24h"===h?e.createElement(f,null):e.createElement("p",null,"Work in progress!"))};var v=function(t){var a=t.value,n=t.requirements,l=t.onValidChange,i=r(l,[]);return o((function(){i(n.every((function(e){return e.validator(a)})))}),[a,n,i]),n.map((function(t,o){return e.createElement(g,{key:o,value:a,requirement:t,s:!0,onValidChange:l})}))};export{v as Requirements};
